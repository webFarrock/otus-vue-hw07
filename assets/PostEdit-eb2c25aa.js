import{d as E,r as m,c as s,w as S,o as u,a as v,b as T,u as d,A as V,e as o,t as $,x as _,y as b,F as D,C as R}from"./index-3191bb56.js";import{u as U,p as A,b as M,c as j}from"./router-11febec2.js";import{B as q,N as z}from"./NotFoundItem-c709d318.js";const G={key:1,class:"post-edit"},H={class:"mb-3 post-edit__field"},J=o("label",{class:"form-label"},"Title",-1),K={class:"mb-3 post-edit__field"},L=o("label",{class:"form-label"},"Body",-1),X=E({__name:"PostEdit",props:{postId:null},setup(f){const t=f,p=R(),e=m(""),a=m(""),I=()=>({title:"",body:""}),{postById:h,updatePost:k,createPost:y}=U(),n=s(()=>t.postId&&h(t.postId)||null),B=s(()=>n.value||I()),P=s(()=>t.postId?`Editing post #${t.postId}`:"Creating new post"),F=s(()=>t.postId&&n.value?`post #${t.postId}`:"post list"),C=s(()=>t.postId&&n.value?A(t.postId):M()),g=s(()=>t.postId&&!n.value),N=s(()=>`Post #${t.postId} not found`),r=()=>p.push(C.value),w=()=>e.value&&a.value,x=()=>{if(!w()){alert("Fields cant be empty");return}if(t.postId){k(t.postId,e.value,a.value),alert("Post updated");return}const l=y(e.value,a.value);alert("Post created"),p.push(j(l))};return S(B,l=>{e.value=l.title,a.value=l.body},{immediate:!0}),(l,i)=>(u(),v(D,null,[T(q,{title:d(F),onClick:r},null,8,["title"]),d(g)?(u(),V(z,{key:0,title:d(N)},null,8,["title"])):(u(),v("div",G,[o("h4",null,$(d(P)),1),o("div",H,[J,_(o("input",{"onUpdate:modelValue":i[0]||(i[0]=c=>e.value=c),type:"email",class:"form-control"},null,512),[[b,e.value,void 0,{trim:!0}]])]),o("div",K,[L,_(o("textarea",{"onUpdate:modelValue":i[1]||(i[1]=c=>a.value=c),class:"form-control",rows:"10"},null,512),[[b,a.value,void 0,{trim:!0}]])]),o("div",{class:"post-edit__actions actions"},[o("button",{onClick:x,class:"btn btn-primary actions__item"}," Save "),o("button",{onClick:r,class:"btn btn-light actions__item"}," Cancel ")])]))],64))}});export{X as default};
